<div class="user-profile-page-wrapper">
  <div class="profile-card">
    <div class="profile-header">
      <div class="profile-avatar">
        <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
          <circle cx="12" cy="7" r="4"></circle>
        </svg>
      </div>
      <h1 class="profile-title">Thông tin tài khoản</h1>
      <p class="profile-subtitle">Chi tiết hồ sơ của bạn</p>
    </div>

    <div class="message-box error-box" *ngIf="errorMessage">
      <svg class="message-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="12" r="10"></circle>
        <line x1="12" y1="8" x2="12" y2="12"></line>
        <line x1="12" y1="16" x2="12.01" y2="16"></line>
      </svg>
      <p class="message-text">{{ errorMessage }}</p>
      <button class="action-button primary-button" (click)="goToLogin()">Đăng nhập lại</button>
    </div>

    <div class="profile-info-section" *ngIf="userDetails && !errorMessage">
      <div class="info-grid">
        <div class="info-item">
          <span class="label">
            <svg class="info-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
              fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
              <circle cx="12" cy="7" r="4"></circle>
            </svg>
            Tên đăng nhập:
          </span>
          <span class="value">{{ userDetails.username }}</span>
        </div>
        <div class="info-item">
          <span class="label">
            <svg class="info-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
              fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M17 19.22H5c-1.1 0-2-.9-2-2V5c0-1.1.9-2 2-2h12.22"></path>
              <path d="M21 7.28V19c0 1.1-.9 2-2 2H7.28"></path>
            </svg>
            Tên hiển thị:
          </span>
          <span class="value">{{ userDetails.displayName }}</span>
        </div>
        <div class="info-item">
          <span class="label">
            <svg class="info-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
              fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
              <line x1="16" y1="2" x2="16" y2="6"></line>
              <line x1="8" y1="2" x2="8" y2="6"></line>
              <line x1="3" y1="10" x2="21" y2="10"></line>
            </svg>
            Ngày sinh:
          </span>
          <span class="value">{{ userDetails.dateOfBirth }}</span>
        </div>
        <div class="info-item">
          <span class="label">
            <svg class="info-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
              fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
              <path d="M2 17l10 5 10-5"></path>
              <path d="M2 12l10 5 10-5"></path>
            </svg>
            Vai trò:
          </span>
          <span class="value">{{ userDetails.roleName }}</span>
        </div>
      </div>
      <div class="profile-actions">
        <button class="action-button primary-button" (click)="navigateToUpdate()">
          Cập nhật tài khoản
        </button>
      </div>
    </div>

    <div class="message-box loading-box" *ngIf="!userDetails && !errorMessage">
      <div class="spinner-dot-pulse">
        <div></div>
        <div></div>
        <div></div>
      </div>
      <p class="message-text">Đang tải thông tin...</p>
    </div>
  </div>
</div>