<app-header></app-header>
<div class="youtube-container-fav">
    <div class="youtube-fav-header">
        <h1 class="youtube-fav-title">
            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="currentColor"
                stroke="none">
                <path
                    d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM9.5 16.5v-9l7 4.5-7 4.5z" />
            </svg>
            Công thức yêu thích
        </h1>
    </div>

    <div class="app-message error-message" *ngIf="errorMessage && favoriteRecipes.length === 0">
        <p>{{ errorMessage }}</p>
        <button class="youtube-action-button primary-action" (click)="retry()">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                class="feather feather-arrow-left">
                <line x1="19" y1="12" x2="5" y2="12"></line>
                <polyline points="12 19 5 12 12 5"></polyline>
            </svg>
            Thử lại
        </button>
    </div>

    <div class="app-message success-message" *ngIf="successMessage && !errorMessage">
        <p>{{ successMessage }}</p>
    </div>

    <div class="youtube-recipes-grid" *ngIf="favoriteRecipes.length > 0">
        <div class="youtube-recipe-card" *ngFor="let recipe of favoriteRecipes">
            <div class="youtube-card-details no-thumbnail">
                <h3 class="youtube-recipe-title" (click)="viewRecipe(recipe.recipeId)">{{ recipe.recipeName }}</h3>
                <div class="youtube-recipe-meta">
                    <span class="youtube-channel-name">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                            fill="currentColor" stroke="none">
                            <path
                                d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15H9v-4H7V7h4v6h2V7h2v6h-2v4z" />
                        </svg>
                        HQQ Recipes
                    </span>
                </div>
                <div class="youtube-card-actions">
                    <button class="youtube-action-button youtube-remove-button" (click)="removeFavorite(recipe.id)"
                        title="Bỏ yêu thích">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="feather feather-x-circle">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="15" y1="9" x2="9" y2="15"></line>
                            <line x1="9" y1="9" x2="15" y2="15"></line>
                        </svg>
                        Bỏ yêu thích
                    </button>
                    <button class="youtube-action-button youtube-view-button" (click)="viewRecipe(recipe.recipeId)"
                        title="Xem ngay">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                            fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round" class="feather feather-play-circle">
                            <circle cx="12" cy="12" r="10"></circle>
                            <polygon points="10 8 16 12 10 16 10 8"></polygon>
                        </svg>
                        Xem ngay
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="empty-message youtube-info-message" *ngIf="favoriteRecipes.length === 0 && !errorMessage && !loading">
        <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
            class="feather feather-heart">
            <path
                d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z">
            </path>
        </svg>
        <p>Chưa có công thức yêu thích nào được lưu.</p>
        <p>Bạn có thể thêm công thức vào danh sách yêu thích từ trang chủ hoặc trang chi tiết công thức.</p>
    </div>

    <div class="loading youtube-info-message" *ngIf="loading && !errorMessage">
        <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
            class="feather feather-loader">
            <line x1="12" y1="2" x2="12" y2="6"></line>
            <line x1="12" y1="18" x2="12" y2="22"></line>
            <line x1="4.93" y1="4.93" x2="7.76" y2="7.76"></line>
            <line x1="16.24" y1="16.24" x2="19.07" y2="19.07"></line>
            <line x1="2" y1="12" x2="6" y2="12"></line>
            <line x1="18" y1="12" x2="22" y2="12"></line>
            <line x1="4.93" y1="19.07" x2="7.76" y2="16.24"></line>
            <line x1="16.24" y1="7.76" x2="19.07" y2="4.93"></line>
        </svg>
        <p>Đang tải danh sách công thức yêu thích...</p>
    </div>
</div>
<app-footer></app-footer>